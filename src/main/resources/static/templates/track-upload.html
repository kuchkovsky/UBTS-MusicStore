<md-card class="main-card" ng-controller="trackUploadCtrl as ctrl">
    <md-card-content layout="row" layout-align="space-between">
        <form name="trackForm" ng-submit="trackForm.$valid && ctrl.submit()">
            <section id="residence">
                <h3 class="md-headline center">Інформація про пісню</h3>
                <md-input-container class="md-block">
                    <label>Виконавець</label>
                    <input required name="artist" ng-model="ctrl.form.trackInfo.artist">
                    <div ng-messages="trackForm.artist.$error">
                        <div ng-message="required">Обов'язкове поле.</div>
                    </div>
                </md-input-container>
                <md-input-container class="md-block">
                    <label>Назва</label>
                    <input required name="title" ng-model="ctrl.form.trackInfo.title">
                    <div ng-messages="trackForm.title.$error">
                        <div ng-message="required">Обов'язкове поле.</div>
                    </div>
                </md-input-container>
                <md-input-container class="md-block">
                    <label>Посилання на демо-аудіо</label>
                    <input name="sampleAudioUrl" ng-model="ctrl.form.trackInfo.sampleAudioUrl">
                </md-input-container>
            </section>
            <section id="tags">
                <h3 class="md-headline center">Теги</h3>
               <div>
                   <md-list>
                       <md-list-item class="md-2-line tag-list-item" ng-repeat="tag in ctrl.form.trackInfo.tags">
                           <div layout="row" flex>
                               <div class="md-list-item-text">
                                   <h3>{{$index + 1}}. {{tag.name}}</h3>
                               </div>
                               <md-button ng-click="ctrl.deleteTag(tag)">
                                   <md-icon md-svg-src="img/icons/ic_delete_black_24px.svg"></md-icon>
                               </md-button>
                           </div>
                       </md-list-item>
                   </md-list>
                   <div layout="row" id="add-tag-block">
                       <md-input-container class="md-block">
                           <label>Тег</label>
                           <input name="tag" ng-model="ctrl.form.trackInfo.newTag">
                       </md-input-container>
                       <md-button class="md-raised md-primary" ng-click="ctrl.addTag()">
                           Додати
                       </md-button>
                   </div>
               </div>
            </section>
            <section id="files">
                <h3 class="md-headline center">Файли</h3>
                <div>
                    <section>
                        <h3 class="md-subhead">Демо-аудіо:</h3>
                        <lf-ng-md-file-input name="sampleAudio" ng-model="ctrl.form.trackFiles.sampleAudio"
                                             lf-files="ctrl.form.trackFiles.sampleAudio" progress></lf-ng-md-file-input>
                    </section>
                    <section>
                        <h3 class="md-subhead">PDF-акорди:</h3>
                        <lf-ng-md-file-input name="pdfChords" ng-model="ctrl.form.trackFiles.pdfChords"
                                             lf-files="ctrl.form.trackFiles.pdfChords" progress></lf-ng-md-file-input>
                    </section>
                    <section>
                        <h3 class="md-subhead">DOC-акорди:</h3>
                        <lf-ng-md-file-input name="docChords" ng-model="ctrl.form.trackFiles.docChords"
                                             lf-files="ctrl.form.trackFiles.docChords" progress></lf-ng-md-file-input>
                    </section>
                    <section>
                        <h3 class="md-subhead">Ноти:</h3>
                        <lf-ng-md-file-input name="notes" ng-model="ctrl.form.trackFiles.notes"
                                             lf-files="ctrl.form.trackFiles.notes" progress></lf-ng-md-file-input>
                    </section>
                    <section>
                        <h3 class="md-subhead">Презентація:</h3>
                        <lf-ng-md-file-input name="presentation" ng-model="ctrl.form.trackFiles.presentation"
                                             lf-files="ctrl.form.trackFiles.presentation" progress></lf-ng-md-file-input>
                    </section>
                </div>
            </section>
            <section id="submit">
                <md-button ng-disabled="trackForm.$invalid || ctrl.submitLock"
                           class="md-raised md-primary" type="submit">
                    Надіслати
                </md-button>
                <div id="form-progressbar" ng-show="ctrl.form.progressBar.isVisible">
                    <div id="progress-caption" class="md-caption center">Надсилання даних...</div>
                    <md-progress-linear md-mode="determinate" value="{{ctrl.form.progressBar.counter}}">
                    </md-progress-linear>
                </div>
                <div ng-show="trackForm.$invalid" class="md-caption form-error-message center error">
                    Необхідно заповнити всі обов'язкові поля
                </div>
            </section>
        </form>
    </md-card-content>
</md-card>
